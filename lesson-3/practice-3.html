<meta charset="UTF-8" />

<script>
  let userJson = '{ "name": "Иван", "age": 25, "isAdmin": true }';

  let user = JSON.parse(userJson);
  console.log(user);

  user.dateCreated = "2022-05-26";
  user.adress = {
    city: "Москва",
    postalCode: "11111",
  };

  // преобразование объекта в JSON строку

  let user2 = JSON.stringify(user, null, 4);

  // Ассинхронность

  const async = (a) => {
    setTimeout(() => {
      const b = a + 1;
      return b;
    }, 3000);
    return 5000;
  };

  console.log(async(5)); // программа вернет 5000, но потеряется вывод 3000

  let num = (a) => {
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        if (a) {
          resolve(a + 10);
        } else {
          reject("error"); // всегда активирует обработчик catch
        }
      }, 3000);
      return 5000;
    });
  };

  num(5)
    .then((data) => {
      console.log(data);
    })
    .catch((error) => {
      console.log(error);
    });

  num().then(
    (data) => {
      console.log(data);
    },
    (error) => {
      console.log(error);
    }
  );

  // ==========================================================
</script>
